console.log("#!/usr/bin/ruby\u000a\u000arequire\u0020\"uri\"\u000arequire\u0020\"cgi\"\u000arequire\u0020\"pp\"\u000arequire\u0020\"ostruct\"\u000arequire\u0020\"optparse\"\u000a#require\u0020\"json\"\u000a#require\u0020\"awesome_print\"\u000a\u000aAwesomePrint.defaults\u0020=\u0020\u007b\u000a\u0020\u0020index:\u0020\u0020false,\u000a\u0020\u0020indent:\u0020-4,\u000a\u007d\u0020if\u0020defined?\u0028AwesomePrint\u0029\u000a\u000adef\u0020_unescape\u0028string,\u0020encoding=\"UTF-8\"\u0029\u000a\u0020\u0020str\u0020=\u0020string.tr\u0028'\u002b',\u0020'\u0020'\u0029.b.gsub\u0028/\u0028\u0028?:%\u005b0-9a-fA-F\u005d\u007b2\u007d\u0029\u002b\u0029/\u0029\u007b|m|\u000a\u0020\u0020\u0020\u0020\u005bm.delete\u0028'%'\u0029\u005d.pack\u0028'H*'\u0029\u000a\u0020\u0020\u007d.force_encoding\u0028encoding\u0029\u000a\u0020\u0020if\u0020str.valid_encoding?\u0020then\u000a\u0020\u0020\u0020\u0020return\u0020str\u000a\u0020\u0020end\u000a\u0020\u0020return\u0020str.force_encoding\u0028string.encoding\u0029\u000aend\u000a\u000adef\u0020parse_query\u0028str\u0029\u000a\u0020\u0020ret\u0020=\u0020\u007b\u007d\u000a\u0020\u0020if\u0020not\u0020str.nil?\u0020then\u000a\u0020\u0020\u0020\u0020CGI.parse\u0028str\u0029.each\u0020do\u0020|vkey,\u0020vval|\u000a\u0020\u0020\u0020\u0020\u0020\u0020if\u0020vval.length\u0020\u003e\u00201\u0020then\u000a\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u0020ret\u005bvkey\u005d\u0020=\u0020vval.map\u0028\u0026CGI.method\u0028:unescape\u0029\u0029\u000a\u0020\u0020\u0020\u0020\u0020\u0020else\u000a\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u0020ret\u005bvkey\u005d\u0020=\u0020\u0028\u0028vval.first\u0020==\u0020nil\u0029\u0020?\u0020nil\u0020:\u0020_unescape\u0028vval.first\u0029\u0029\u000a\u0020\u0020\u0020\u0020\u0020\u0020end\u000a\u0020\u0020\u0020\u0020end\u000a\u0020\u0020end\u000a\u0020\u0020return\u0020ret\u000aend\u000a\u000amodule\u0020Printers\u000a\u0020\u0020extend\u0020self\u000a\u000a\u0020\u0020def\u0020normal\u0028out,\u0020data\u0029\u000a\u0020\u0020\u0020\u0020data.each\u0020do\u0020|name,\u0020value|\u000a\u0020\u0020\u0020\u0020\u0020\u0020out.printf\u0028\"%-10s\u0020=\u003e\u0020\u0020\",\u0020name.to_s\u0029\u000a\u0020\u0020\u0020\u0020\u0020\u0020if\u0020name\u0020==\u0020:query\u0020then\u000a\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u0020out.puts\u0028\"\u007b\"\u0029\u000a\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u0020value.each\u0020\u007b\u0020|qn,\u0020qv|\u000a\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u0020out.printf\u0028\"\u0020\u0020%p\u0020=\u0020\",\u0020qn\u0029\u000a\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u0020if\u0020qv.is_a?\u0028Array\u0029\u0020then\u000a\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u0020out\u0020\u003c\u003c\u0020\"\u005b\\n\"\u0020\u003c\u003c\u0020qv.map\u007b|v|\u0020sprintf\u0028\"\u0020\u0020\u0020\u0020%p\",\u0020v\u0029\u007d.join\u0028\",\\n\"\u0029\u0020\u003c\u003c\u0020\"\\n\u0020\u0020\u005d\"\u000a\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u0020else\u000a\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u0020out.printf\u0028\"%p\",\u0020qv\u0029\u000a\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u0020end\u000a\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u0020out.printf\u0028\"\\n\"\u0029\u000a\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u007d\u000a\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u0020out.puts\u0028\"\u007d\"\u0029\u000a\u0020\u0020\u0020\u0020\u0020\u0020else\u000a\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u0020out.printf\u0028\"%p\",\u0020value\u0029\u000a\u0020\u0020\u0020\u0020\u0020\u0020end\u000a\u0020\u0020\u0020\u0020\u0020\u0020out.puts\u000a\u0020\u0020\u0020\u0020end\u000a\u0020\u0020end\u000a\u000a\u0020\u0020if\u0020defined?\u0028JSON\u0029\u0020then\u000a\u0020\u0020\u0020\u0020def\u0020json\u0028out,\u0020data\u0029\u000a\u0020\u0020\u0020\u0020\u0020\u0020out.puts\u0028JSON.pretty_generate\u0028data\u0029\u0029\u000a\u0020\u0020\u0020\u0020end\u000a\u0020\u0020end\u000a\u000a\u0020\u0020if\u0020defined?\u0028AwesomePrint\u0029\u0020then\u000a\u0020\u0020\u0020\u0020def\u0020awesome\u0028out,\u0020data\u0029\u000a\u0020\u0020\u0020\u0020\u0020\u0020out.puts\u0028data.awesome_inspect\u0029\u000a\u0020\u0020\u0020\u0020end\u000a\u0020\u0020end\u000aend\u000a\u000a\u000adef\u0020urldump\u0028str,\u0020options\u0029\u000a\u0020\u0020url\u0020=\u0020URI.parse\u0028str\u0029\u000a\u0020\u0020data\u0020=\u0020Hash\u0028\u007b\u000a\u0020\u0020\u0020\u0020scheme:\u0020url.scheme,\u000a\u0020\u0020\u0020\u0020userinfo:\u0020url.userinfo,\u000a\u0020\u0020\u0020\u0020hostname:\u0020url.hostname,\u000a\u0020\u0020\u0020\u0020port:\u0020url.port,\u000a\u0020\u0020\u0020\u0020path:\u0020url.path,\u000a\u0020\u0020\u0020\u0020fragment:\u0020url.fragment,\u000a\u0020\u0020\u0020\u0020query:\u0020parse_query\u0028url.query\u0029,\u000a\u0020\u0020\u007d\u0029.select\u007b|k,\u0020v|\u0020not\u0020v.nil?\u007d\u000a\u0020\u0020if\u0020options.wanted.empty?\u0020then\u000a\u0020\u0020\u0020\u0020Printers.send\u0028options.printer,\u0020$stdout,\u0020data\u0029\u000a\u0020\u0020else\u000a\u0020\u0020\u0020\u0020if\u0020options.wanted.length\u0020\u003e\u00201\u0020then\u000a\u0020\u0020\u0020\u0020\u0020\u0020options.wanted.each_with_index\u0020do\u0020|w,\u0020i|\u000a\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u0020v\u0020=\u0020data\u005bw.to_sym\u005d\u000a\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u0020if\u0020v\u0020then\u000a\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u0020$stdout.printf\u0028\"%s=%p\",\u0020w,\u0020v\u0029\u000a\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u0020if\u0020\u0028\u0028i\u0020\u002b\u00201\u0029\u0020!=\u0020options.wanted.length\u0029\u0020then\u000a\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u0020$stdout.write\u0028\"\u0020\"\u0029\u000a\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u0020end\u000a\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u0020end\u000a\u0020\u0020\u0020\u0020\u0020\u0020end\u000a\u0020\u0020\u0020\u0020else\u000a\u0020\u0020\u0020\u0020\u0020\u0020v\u0020=\u0020data\u005boptions.wanted.first.to_sym\u005d\u000a\u0020\u0020\u0020\u0020\u0020\u0020$stdout.puts\u0028v\u0029\u0020unless\u0020v.nil?\u000a\u0020\u0020\u0020\u0020end\u000a\u0020\u0020end\u000aend\u000a\u000abegin\u000a\u0020\u0020wants\u0020=\u0020%w\u0028port\u0020hostname\u0020path\u0020query\u0020scheme\u0020user\u0020password\u0029\u000a\u0020\u0020options\u0020=\u0020OpenStruct.new\u0028printer:\u0020\"normal\",\u0020wanted:\u0020\u005b\u005d\u0029\u000a\u0020\u0020prs\u0020=\u0020OptionParser.new\u0020\u007b|prs|\u000a\u0020\u0020\u0020\u0020prs.on\u0028\"-p\u003cname\u003e\",\u0020\"--print-as=\u003cname\u003e\",\u0020\"Use\u0020\u003cname\u003e\u0020as\u0020output\u0020type\"\u0029\u007b|name|\u000a\u0020\u0020\u0020\u0020\u0020\u0020options.printer\u0020=\u0020name\u000a\u0020\u0020\u0020\u0020\u0020\u0020if\u0020not\u0020Printers.respond_to?\u0028options.printer.to_sym\u0029\u0020then\u000a\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u0020$stderr.puts\u0028\"error:\u0020output\u0020type\u0020#\u007bname.dump\u007d\u0020is\u0020unknown\"\u0029\u000a\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u0020exit\u000a\u0020\u0020\u0020\u0020\u0020\u0020end\u000a\u0020\u0020\u0020\u0020\u007d\u000a\u0020\u0020\u0020\u0020#prs.on\u0028\"-p\",\u0020\"--port\",\u0020\"print\u0020port,\u0020if\u0020any\"\u0029\u007b|_|\u000a\u0020\u0020\u0020\u0020#\u0020\u0020options.wanted.push\u0028:port\u0029\u000a\u0020\u0020\u0020\u0020#\u007d\u000a\u0020\u0020\u0020\u0020#prs.on\u0028\"-h\",\u0020\"--hostname\",\u0020\"print\u0020hostname,\u0020if\u0020any\"\u0029\u000a\u0020\u0020\u0020\u0020wants.each\u0020do\u0020|w|\u000a\u0020\u0020\u0020\u0020\u0020\u0020prs.on\u0028nil,\u0020\"--#\u007bw\u007d\",\u0020\"print\u0020#\u007bw\u007d,\u0020if\u0020any\"\u0029\u007b|_|\u000a\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u0020options.wanted.push\u0028w\u0029\u000a\u0020\u0020\u0020\u0020\u0020\u0020\u007d\u000a\u0020\u0020\u0020\u0020end\u000a\u0020\u0020\u007d\u000a\u0020\u0020prs.parse!\u000a\u0020\u0020if\u0020ARGV.empty?\u0020then\u000a\u0020\u0020\u0020\u0020if\u0020not\u0020$stdin.tty?\u0020then\u000a\u0020\u0020\u0020\u0020\u0020\u0020urldump\u0028$stdin.read.strip,\u0020options\u0029\u000a\u0020\u0020\u0020\u0020else\u000a\u0020\u0020\u0020\u0020\u0020\u0020$stderr.puts\u0028prs\u0029\u000a\u0020\u0020\u0020\u0020end\u000a\u0020\u0020else\u000a\u0020\u0020\u0020\u0020ARGV.each\u0020do\u0020|arg|\u000a\u0020\u0020\u0020\u0020\u0020\u0020urldump\u0028arg,\u0020options\u0029\u000a\u0020\u0020\u0020\u0020end\u000a\u0020\u0020end\u000aend\u000a")